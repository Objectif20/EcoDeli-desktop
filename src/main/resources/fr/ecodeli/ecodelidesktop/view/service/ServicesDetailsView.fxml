<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="fr.ecodeli.ecodelidesktop.services.ServiceDetailsController">
    <center>
        <ScrollPane fitToWidth="true" styleClass="main-scroll-pane" stylesheets="@service-detail.css">
            <content>
                <VBox styleClass="main-container" alignment="TOP_CENTER">
                    <!-- Bouton retour -->
                    <HBox styleClass="header-section">
                        <Button fx:id="backButton" onAction="#handleRetour" styleClass="back-button" text="← Retour" />
                    </HBox>

                    <!-- Bloc principal : infos service à gauche, détails à droite -->
                    <HBox styleClass="main-info-card">
                        <!-- Colonne gauche : Titre, prix, localisation -->
                        <VBox styleClass="left-info-section" HBox.hgrow="ALWAYS">
                            <Label fx:id="serviceNameLabel" styleClass="service-title" text="Nom du service" />
                            <HBox styleClass="location-duration-row">
                                <Label fx:id="locationLabel" styleClass="location-label" text="📍 Ville" />
                                <Label fx:id="durationLabel" styleClass="duration-label" text="🕐 Durée" />
                            </HBox>
                            <Label fx:id="priceLabel" styleClass="price-label" text="€ 0.00" />
                        </VBox>

                        <!-- Colonne droite : Note, catégories, disponibilité -->
                        <VBox styleClass="right-info-section">
                            <Label fx:id="ratingLabel" styleClass="rating-label" text="⭐ 0.0" />
                            <HBox styleClass="tags-row">
                                <Label fx:id="serviceTypeLabel" styleClass="service-type-tag" text="Type" />
                                <Label fx:id="statusLabel" styleClass="status-tag" text="Statut" />
                                <Label fx:id="availabilityLabel" styleClass="availability-tag" text="Disponible" />
                            </HBox>
                        </VBox>
                    </HBox>

                    <!-- Informations prestataire sur une ligne -->
                    <HBox styleClass="provider-card">
                        <Label styleClass="section-title-inline" text="Proposé par" />
                        <HBox styleClass="provider-info" HBox.hgrow="ALWAYS">
                            <VBox styleClass="provider-avatar-container">
                                <ImageView fx:id="authorAvatarImage" styleClass="provider-avatar" fitWidth="50" fitHeight="50" preserveRatio="true" />
                                <Label fx:id="authorAvatarPlaceholder" styleClass="provider-avatar-placeholder" text="👤" visible="false" />
                            </VBox>
                            <VBox styleClass="provider-details">
                                <Label fx:id="authorNameLabel" styleClass="provider-name" text="Nom de l'auteur" />
                                <Label fx:id="authorEmailLabel" styleClass="provider-email" text="email@example.com" />
                            </VBox>
                            <Label fx:id="authorRatingLabel" styleClass="provider-rating" text="⭐ 0.0" />
                        </HBox>
                    </HBox>

                    <!-- Description compacte -->
                    <VBox styleClass="description-card-compact">
                        <Label styleClass="section-title-inline" text="Description" />
                        <Label fx:id="descriptionLabel" styleClass="description-text-compact" text="Description du service..." wrapText="true" />
                    </VBox>

                    <!-- Mots-clés et avis sur la même ligne -->
                    <HBox styleClass="keywords-reviews-row">
                        <!-- Mots-clés -->
                        <VBox fx:id="keywordsSection" styleClass="keywords-section" HBox.hgrow="ALWAYS">
                            <Label styleClass="section-title-inline" text="Mots-clés" />
                            <FlowPane fx:id="keywordsPane" styleClass="keywords-pane-compact" />
                        </VBox>

                        <!-- Compteur d'avis -->
                        <VBox styleClass="reviews-count-section">
                            <Label styleClass="section-title-inline" text="Avis" />
                            <Label fx:id="commentsCountLabel" styleClass="comments-count-compact" text="💬 0" />
                        </VBox>
                    </HBox>

                    <!-- Avis clients compacts -->
                    <VBox fx:id="commentsSection" styleClass="comments-card-compact">
                        <ScrollPane styleClass="comments-scroll-compact" fitToWidth="true" maxHeight="200">
                            <VBox fx:id="commentsContainer" styleClass="comments-container-compact" />
                        </ScrollPane>
                    </VBox>
                </VBox>
            </content>
        </ScrollPane>
    </center>
</BorderPane>